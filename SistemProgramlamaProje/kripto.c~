#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include "fields.h"
#include "jval.h"
#include "jrb.h"
#include "dllist.h"

int main(int argc, char **argv)
{
    IS is;

  // Yeni bir dosya okuyucusu tanımla
  is = new_inputstruct(argv[2]);  // NULL --> stdin

  while(get_line(is) >= 0){
    printf("Satır %d.\n", is->line);

    for(int i = 0; i < is->NF; i++)
      printf("%s\n", is->fields[i]);
    
    /*
    if(is->NF > 2)
      printf("İkinci kelime: %s\n", is->fields[1]);
    else
      printf("İkinci kelime yok\n");
    */
  }

  //printf("Kelime sayısı: %d\n", is->NF);

  
  // Çıkmadan önce bellekte kullanılan yerlerin geri bırakılması
  jettison_inputstruct(is);
}
